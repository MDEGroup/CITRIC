module A2E;

create OUT : E from IN : A;

helper def: counter : Integer = 1;

rule B2R_S {
	from
		s : A!B
	to
		t_1 : E!R (name <- t_1 + 'r_' + thisModule.counter),
		t_2 : E!S (name <- t_2 + 's_' + thisModule.counter)
	do {
		thisModule.counter <- thisModule.counter + 1;
	}
	
}